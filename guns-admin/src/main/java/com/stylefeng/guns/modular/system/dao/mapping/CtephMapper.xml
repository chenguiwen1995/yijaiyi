<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.stylefeng.guns.modular.system.dao.CtephMapper">

    <!-- 通用查询映射结果 -->
    <resultMap id="BaseResultMap" type="com.stylefeng.guns.modular.system.model.Cteph">
        <id column="id" property="id" />
        <result column="code" property="code" />
        <result column="department" property="department" />
        <result column="fillingperson" property="fillingperson" />
        <result column="patient_name" property="patientName" />
        <result column="patient_sex" property="patientSex" />
        <result column="patient_age" property="patientAge" />
        <result column="patient_address" property="patientAddress" />
        <result column="birthday" property="birthday" />
        <result column="height" property="height" />
        <result column="weight" property="weight" />
        <result column="firsttime" property="firsttime" />
        <result column="specialsigns" property="specialsigns" />
        <result column="vtehistory" property="vtehistory" />
        <result column="ape" property="ape" />
        <result column="ledvt" property="ledvt" />
        <result column="otherthrombus" property="otherthrombus" />
        <result column="firstvtetime" property="firstvtetime" />
        <result column="vterelapse" property="vterelapse" />
        <result column="malignanttumor" property="malignanttumor" />
        <result column="splenectomy" property="splenectomy" />
        <result column="pacemaker" property="pacemaker" />
        <result column="atrialhistory" property="atrialhistory" />
        <result column="aas" property="aas" />
        <result column="hps" property="hps" />
        <result column="cdeficiency" property="cdeficiency" />
        <result column="sdeficiency" property="sdeficiency" />
        <result column="atdeficiency" property="atdeficiency" />
        <result column="levv" property="levv" />
        <result column="ibd" property="ibd" />
        <result column="ibdspecific" property="ibdspecific" />
        <result column="otherrisk" property="otherrisk" />
        <result column="hypertension" property="hypertension" />
        <result column="coronaryheart" property="coronaryheart" />
        <result column="revascularization" property="revascularization" />
        <result column="diabetes" property="diabetes" />
        <result column="renalinsufficiency" property="renalinsufficiency" />
        <result column="cerebralinfarction" property="cerebralinfarction" />
        <result column="copd" property="copd" />
        <result column="congenitalheart" property="congenitalheart" />
        <result column="chdspecific" property="chdspecific" />
        <result column="connectivetissue" property="connectivetissue" />
        <result column="ctdspecific" property="ctdspecific" />
        <result column="hypothyroidism" property="hypothyroidism" />
        <result column="hyperthyroidism" property="hyperthyroidism" />
        <result column="anemia" property="anemia" />
        <result column="polycythemia" property="polycythemia" />
        <result column="plateletlower" property="plateletlower" />
        <result column="plateletup" property="plateletup" />
        <result column="othercomplications" property="othercomplications" />
        <result column="cteph" property="cteph" />
        <result column="sixmwd" property="sixmwd" />
        <result column="noreason1" property="noreason1" />
        <result column="walking" property="walking" />
        <result column="ppi" property="ppi" />
        <result column="ctpat" property="ctpat" />
        <result column="mripae" property="mripae" />
        <result column="cmri" property="cmri" />
        <result column="rhc" property="rhc" />
        <result column="noreason2" property="noreason2" />
        <result column="otherreason" property="otherreason" />
        <result column="pa" property="pa" />
        <result column="firstcatheter" property="firstcatheter" />
        <result column="hr" property="hr" />
        <result column="bpshrink" property="bpshrink" />
        <result column="bprelaxation" property="bprelaxation" />
        <result column="bpave" property="bpave" />
        <result column="rap" property="rap" />
        <result column="rapshrink" property="rapshrink" />
        <result column="raprelaxation1" property="raprelaxation1" />
        <result column="rapave" property="rapave" />
        <result column="pap" property="pap" />
        <result column="papshrink" property="papshrink" />
        <result column="raprelaxation2" property="raprelaxation2" />
        <result column="papave" property="papave" />
        <result column="pawp" property="pawp" />
        <result column="pawpshrink" property="pawpshrink" />
        <result column="pawprelaxation" property="pawprelaxation" />
        <result column="pawpave" property="pawpave" />
        <result column="co" property="co" />
        <result column="comethod" property="comethod" />
        <result column="ci" property="ci" />
        <result column="pvr" property="pvr" />
        <result column="svo2" property="svo2" />
        <result column="lvedd" property="lvedd" />
        <result column="lvef" property="lvef" />
        <result column="pasp" property="pasp" />
        <result column="pe" property="pe" />
        <result column="bloodgroup" property="bloodgroup" />
        <result column="hcy" property="hcy" />
        <result column="hcynumber" property="hcynumber" />
        <result column="nt" property="nt" />
        <result column="ntnumber" property="ntnumber" />
        <result column="aa" property="aa" />
        <result column="la" property="la" />
        <result column="acllgg" property="acllgg" />
        <result column="acllgm" property="acllgm" />
        <result column="lgg" property="lgg" />
        <result column="lgm" property="lgm" />
        <result column="threeitems" property="threeitems" />
        <result column="ats" property="ats" />
        <result column="proteins" property="proteins" />
        <result column="proteinc" property="proteinc" />
        <result column="hat" property="hat" />
        <result column="bloodgas" property="bloodgas" />
        <result column="ph" property="ph" />
        <result column="pco" property="pco" />
        <result column="po" property="po" />
        <result column="sao" property="sao" />
        <result column="paa" property="paa" />
        <result column="anticoagulant" property="anticoagulant" />
        <result column="drug1" property="drug1" />
        <result column="otherdrug" property="otherdrug" />
        <result column="targeting" property="targeting" />
        <result column="laxg" property="laxg" />
        <result column="fivepi" property="fivepi" />
        <result column="drug2" property="drug2" />
        <result column="era" property="era" />
        <result column="drug3" property="drug3" />
        <result column="prostacyclin" property="prostacyclin" />
        <result column="drug4" property="drug4" />
        <result column="exfoliation" property="exfoliation" />
        <result column="angioplasty" property="angioplasty" />
        <result column="death" property="death" />
        <result column="deathreason" property="deathreason" />
        <result column="addition1" property="addition1" />
        <result column="addition2" property="addition2" />
        <result column="addition3" property="addition3" />
        <result column="addition4" property="addition4" />
        <result column="addition5" property="addition5" />
        <result column="addition6" property="addition6" />
        <result column="addition7" property="addition7" />
        <result column="addition8" property="addition8" />
        <result column="addition9" property="addition9" />
        <result column="addition10" property="addition10" />
        <result column="creator" property="creator" />
        <result column="creationtime" property="creationtime" />
        <result column="modifier" property="modifier" />
        <result column="modifiedtime" property="modifiedtime" />
        <result column="ts" property="ts" />
        <result column="dr" property="dr" />
    </resultMap>

    <!-- 通用查询结果列 -->
    <sql id="Base_Column_List">
        id, code, department, fillingperson, patient_name, patient_sex, patient_age, patient_address, birthday, height, weight, firsttime, specialsigns, vtehistory, ape, ledvt, otherthrombus, firstvtetime, vterelapse, malignanttumor, splenectomy, pacemaker, atrialhistory, aas, hps, cdeficiency, sdeficiency, atdeficiency, levv, ibd, ibdspecific, otherrisk, hypertension, coronaryheart, revascularization, diabetes, renalinsufficiency, cerebralinfarction, copd, congenitalheart, chdspecific, connectivetissue, ctdspecific, hypothyroidism, hyperthyroidism, anemia, polycythemia, plateletlower, plateletup, othercomplications, cteph, sixmwd, noreason1, walking, ppi, ctpat, mripae, cmri, rhc, noreason2, otherreason, pa, firstcatheter, hr, bpshrink, bprelaxation, bpave, rap, rapshrink, raprelaxation1, rapave, pap, papshrink, raprelaxation2, papave, pawp, pawpshrink, pawprelaxation, pawpave, co, comethod, ci, pvr, svo2, lvedd, lvef, pasp, pe, bloodgroup, hcy, hcynumber, nt, ntnumber, aa, la, acllgg, acllgm, lgg, lgm, threeitems, ats, proteins, proteinc, hat, bloodgas, ph, pco, po, sao, paa, anticoagulant, drug1, otherdrug, targeting, laxg, fivepi, drug2, era, drug3, prostacyclin, drug4, exfoliation, angioplasty, death, deathreason, addition1, addition2, addition3, addition4, addition5, addition6, addition7, addition8, addition9, addition10, creator, creationtime, modifier, modifiedtime, ts, dr
    </sql>


    <select id="selectCtephs" resultType="map">
        select
        <include refid="Base_Column_List" />
        from cteph
        where dr != 1 and department = #{department}
        <if test="patient_name != null and patient_name != ''">
        and  patient_name like CONCAT('%',#{patient_name},'%')
        </if>
        <!--<if test="code != null and code !=''">-->
            <!--and  (code like CONCAT('%', #{code}, '%')-->
            <!--or name like CONCAT('%',#{code},'%'))-->
        <!--</if>-->

    </select>



</mapper>
